!function(){let e,n,t,o,i,a,d,s,r,c,l=window.Feedbackchimp,p=!1,f=!1,h=!1;const g=300;let m="https://widget.feedbackchimp.com";function b(){d&&(d.style.display="block",h=!0,setTimeout((()=>{h=!1}),g))}function u(){d&&!h&&(d.style.display="none")}window.Feedbackchimp=function(l,g){if("initialize_changelog_widget"===l){p=!0,r=g;var x=document.createElement("style");if(x.textContent="\n                @keyframes slideDown {\n                    0% {\n                        max-height: 100px;\n                        opacity: 0.4;\n                    }\n                    100% {\n                        max-height: 350px;\n                        opacity: 1;\n                    }\n                }\n            ",document.head.appendChild(x),t=document.querySelector("[data-feeadbackchimp-changelog]"),!t)return;o=t.querySelector("#fb-update-badge"),e=document.createElement("div"),e.style.cssText="\n                background: rgb(255, 255, 255);\n                filter: drop-shadow(rgba(0, 0, 0, 0.1) 0px 20px 13px);\n                height: 350px;\n                max-height: 350px;\n                border-radius: 8px;\n                overflow: hidden;\n                position: fixed;\n                transition: height .24s ease, max-height .24s ease, opacity .2s ease;\n                width: 340px;\n                will-change: height, margin-top, opacity, box-shadow;\n                animation: slideDown .3s ease;\n                z-index: 2147483647;\n                display: none;\n            ",n=document.createElement("iframe"),n.style.cssText="\n                border: none;\n                height: 100%;\n                overflow: hidden;\n                position: relative;\n                width: 100%;\n                z-index: 2147483647;\n                background: rgb(255, 255, 255);\n            ";const w=Object.keys(g).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(g[e])})).join("&");function y(){const n=t.getBoundingClientRect(),o=window.innerWidth,i=window.innerHeight;let a,d;function s(t){switch(t){case"right":if(n.right+e.offsetWidth+8<=o)return a=n.right+8,d=n.top,!0;break;case"left":if(n.left-e.offsetWidth-8>=0)return a=n.left-e.offsetWidth-8,d=n.top,!0;break;case"top":if(n.top-e.offsetHeight-8>=0)return a=n.left+n.width/2-e.offsetWidth/2,d=n.top-e.offsetHeight-8,!0;break;case"bottom":if(n.bottom+e.offsetHeight+8<=i)return a=n.left+n.width/2-e.offsetWidth/2,d=n.bottom+8,!0}return!1}if(!s(g.placement||"bottom")){const e=["bottom","right","left","top"];for(const n=0;n<e.length&&!s(e[n]);n++);}a=Math.max(8,Math.min(a,o-e.offsetWidth-8)),d=Math.max(8,Math.min(d,i-e.offsetHeight-8)),e.style.left=`${a}px`,e.style.top=`${d}px`}n.src=`${m}/changelog/mini?`+w,e.appendChild(n),document.body.appendChild(e),t.addEventListener("click",(function(n){n.stopPropagation(),"none"===e.style.display?(e.style.display="block",y(),e.style.animation="none",e.offsetHeight,e.style.animation="slideDown 0.3s ease forwards"):e.style.display="none"})),document.addEventListener("click",(function(n){"none"===e.style.display||e.contains(n.target)||n.target===t||(e.style.display="none")})),window.addEventListener("resize",y),window.addEventListener("message",(function(n){var t;n.origin===m&&"closeChangelog"===n.data?e.style.display="none":n.data&&"updateBadge"===n.data.action&&(t=n.data.content,o&&(o.textContent=t,o.style.display=t?"inline":"none"))}),!1)}else if("open_changelog_popup"===l){if(!p)return;i||function(){const e=document.createElement("style");e.textContent="\n            @keyframes changelogFadeIn {\n                from { opacity: 0; }\n                to { opacity: 1; }\n            }\n        ",document.head.appendChild(e),i=document.createElement("div"),i.style.cssText="\n            align-items: center;\n            animation: changelogFadeIn .2s linear;\n            backdrop-filter: blur(2px);\n            display: flex;\n            flex-direction: column;\n            height: 100%;\n            inset: 0;\n            justify-content: start;\n            opacity: 1;\n            overflow: auto;\n            overflow-x: hidden;\n            position: fixed;\n            transition: opacity .3s ease-in-out, visibility .3s linear;\n            width: 100%;\n            z-index: 2147483647;\n            background: rgba(255, 255, 255, 0.1);\n        ",a=document.createElement("iframe"),a.style.cssText="\n            border-radius: 12px;\n            margin-bottom: 12px;\n            margin-top: 5%;\n            max-height: 700px;\n            min-height: 700px;\n            overflow: hidden !important;\n            transition: height .95s ease, min-height .95s ease, opacity .3s ease;\n            user-select: none;\n            width: 608px;\n            z-index: 1000;\n            background: rgb(245, 246, 249);\n            box-shadow: rgba(0, 0, 0, 0.1) 0px 15px 25px;\n            border: 1px solid rgb(222, 225, 234);\n            height: 700px;\n        ",i.appendChild(a),document.body.appendChild(i),i.addEventListener("click",(function(e){e.target===i&&(i.style.display="none")})),window.addEventListener("message",(function(e){e.origin===m&&"closeManualChangelog"===e.data&&(i.style.display="none")}),!1)}();const k=new URLSearchParams(r).toString();let v=`${m}/changelog/popup`;if(g&&g.slug&&(v+="/"+encodeURIComponent(g.slug)),a.src=v+"?"+k,i.style.display="flex",g&&g.slug){const E=new URL(a.src);E.searchParams.set("slug",g.slug),a.src=E.toString()}}else if("initialize_feedback_widget"===l)f=!0,c=g,function(e){d=document.createElement("div"),d.style.cssText=`\n            position: fixed;\n            ${"left"===e.placement?"left: 20px;":"right: 20px;"}\n            bottom: 20px;\n            width: 400px;\n            height: 600px;\n            background: white;\n            border-radius: 10px;\n            box-shadow: 0 0 10px rgba(0,0,0,0.1);\n            z-index: 2147483647;\n            display: none;\n        `,s=document.createElement("iframe"),s.style.cssText="\n            width: 100%;\n            height: 100%;\n            border: none;\n            border-radius: 10px;\n        ";const n=new URLSearchParams(e).toString();let t=`${m}/feedback`,o=t;e.defaultBoard&&(o+=`/${encodeURIComponent(e.defaultBoard)}`);s.src=`${o}?${n}`,d.appendChild(s),document.body.appendChild(d);document.querySelectorAll("[data-feedbackchimp-feedback]").forEach((e=>{e.addEventListener("click",(function(i){i.preventDefault(),i.stopPropagation();const a=e.getAttribute("data-board");o=a?t+`/${encodeURIComponent(a)}`:t,s.src=`${o}?${n}`,b()}))})),e.placement&&function(e,n){const t=document.createElement("style");t.textContent=`\n            :root {\n                --fb-feedback-button-bg-color: ${n};\n                --fb-feedback-button-text-color: 255, 255, 255;\n            }\n            @keyframes feedbackFadeIn {\n                from { opacity: 0; }\n                to { opacity: 1; }\n            }\n            @keyframes animateFeedbackButtonLeft {\n                from { right: -43px; }\n                to { right: -3px; }\n            }\n        `,document.head.appendChild(t);const o=document.createElement("button");o.textContent="Feedback",o.className="fb-feedback-widget-feedback-button";const i="\n            transform: rotate(-90deg) translate(50%, -50%);\n            transform-origin: 100% 50%;\n            animation: feedbackFadeIn .3s ease-in;\n            border-bottom: 2px solid hsla(0, 0%, 100%, .2);\n            bottom: auto;\n            top: 45%;\n            padding: 0 16px 0 13px;\n            background-color: var(--fb-feedback-button-bg-color);\n            background-image: none;\n            border: 1px solid hsla(0, 0%, 100%, .2);\n            border-radius: 8px 8px 0 0;\n            box-sizing: border-box;\n            color: rgba(var(--fb-feedback-button-text-color), 1);\n            cursor: pointer;\n            display: block;\n            font-size: 14px;\n            font-weight: 600;\n            height: 43px;\n            letter-spacing: normal;\n            line-height: 43px;\n            margin: 0;\n            position: fixed;\n            text-align: center;\n            transition: all .25s ease-in-out;\n            user-select: none;\n            width: auto;\n            word-spacing: normal;\n            z-index: 1000000;\n            -webkit-font-smoothing: antialiased;\n            box-shadow: 0 0 10px rgba(17, 24, 39, .2);\n            white-space: nowrap !important;\n        ";o.style.cssText="left"===e?i+"\n            left: -3px;\n            animation: feedbackFadeIn .3s ease-in, animateFeedbackButtonLeft .3s ease-in;\n            transform: rotate(90deg) translate(-50%, -50%);\n            transform-origin: 0% 50%;\n        ":i+"\n            right: -3px;\n            animation: feedbackFadeIn .3s ease-in, animateFeedbackButtonRight .3s ease-in;\n        ";o.addEventListener("mouseover",(function(){this.style[e]="0",this.style.boxShadow="0 0 33px rgba(17, 24, 39, .4)"})),o.addEventListener("mouseout",(function(){this.style[e]="-3px",this.style.boxShadow="0 0 10px rgba(17, 24, 39, .2)"})),o.addEventListener("click",b),document.body.appendChild(o)}(e.placement,e.color||"#007bff");document.addEventListener("click",(function(e){"block"!==d.style.display||h||d.contains(e.target)||e.target.classList.contains("fb-feedback-widget-feedback-button")||e.target.hasAttribute("data-feedbackchimp-feedback")||u()})),window.addEventListener("message",(function(e){e.origin===m&&"closeFeedbackWidget"===e.data&&u()}),!1)}(g);else if("open_feedback_widget"===l){if(!f)return;b()}},l&&l.q&&Array.isArray(l.q)&&l.q.forEach((function(e){window.Feedbackchimp.apply(null,e)}))}();
